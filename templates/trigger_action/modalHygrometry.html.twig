{% import 'form.html.twig' as form %}

{% set config = triggerAction is defined and triggerAction ? triggerAction.config : [] %}
<div class="col-12">
    <div class="row">
        {% include 'trigger_action/modalMultipleTemperatures.html.twig' %}
    </div>
    <div class="row">
        <div class="col-6 pl-0">
            <div class="form-group col-10">
                <label class="wii-field-name">Hygrométrie*</label>
                <div class="d-flex align-items-center">
                    <label class="wii-field-name" style="white-space: nowrap">Si hygrométrie supérieure à </label>
                    {{ form.input('sensorHygrometryLimitHigher', '', true, null, {
                        type: 'number',
                    }) }}
                    <label>%</label>
                </div>
            </div>
            <div class="form-group col-10">
                {{ form.select('templateTypeHigherHygro', 'Type de modèle', true, {
                    items: templateTypes|map((value, key) => {
                        label: key,
                        value: value,
                        selected: triggerAction is defined and (
                        (value == constant('App\\Entity\\IOT\\TriggerAction::ALERT') and triggerAction.alert)
                        or (value == constant('App\\Entity\\IOT\\TriggerAction::REQUEST') and triggerAction.request)
                        )
                    }),
                    onChange: 'onTemplateTypeChange($(this))',
                    emptyOption: {label: '', value: '', selected: true},
                }) }}
            </div>
            <div class="form-group col-10">
                {{ form.select('templatesForHigherHygro', 'Modèle', true, {
                    disabled: true,
                }) }}
            </div>
        </div>

        <div class="col-6" style="border-left: black solid 1px">
            <div class="form-group col-10" >
                <label class="wii-field-name" style="color: transparent">Hygrométrie*</label>
                <div class="d-flex align-items-center">
                    <label class="wii-field-name" style="white-space: nowrap">Si hygrométrie inférieure à </label>
                    {{ form.input('sensorHygrometryLimitLower', '', true, null, {
                        type: 'number',
                    }) }}
                    <label>%</label>
                </div>
            </div>
            <div class="form-group col-10">
                {{ form.select('templateTypeLowerHygro', 'Type de modèle', true, {
                    items: templateTypes|map((value, key) => {
                        label: key,
                        value: value,
                        selected: triggerAction is defined and (
                        (value == constant('App\\Entity\\IOT\\TriggerAction::ALERT') and triggerAction.alert)
                        or (value == constant('App\\Entity\\IOT\\TriggerAction::REQUEST') and triggerAction.request)
                        )
                    }),
                    onChange: 'onTemplateTypeChange($(this))',
                    emptyOption: {label: '', value: '', selected: true},
                }) }}
            </div>
            <div class="form-group col-10">
                {{ form.select('templatesForLowerHygro', 'Modèle', true, {
                    disabled: true,
                }) }}
            </div>
        </div>
    </div>
</div>

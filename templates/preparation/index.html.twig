{% extends 'layout.html.twig' %}

{% block title %}Ordres de préparation{% endblock %}

{% block page_filter %}
    {% include 'filters/filtersDemands.html.twig' with {
        page: 'PAGE_PREPA',
        tableSelector: '#table_id'
    } %}
{% endblock %}

{% block page_content %}
<div class="col-12">
    <h1>Ordres de préparation</h1>
</div>

<div class="col-12">
    {% if hasRight(constant('App\\Entity\\Menu::PREPA'), constant('App\\Entity\\Action::EXPORT')) %}
        <div class="btn btn-primary" onclick="generateCSV('get_ordres_prepa_for_csv', 'ordre-prepa')">
            <i class="fa fa-file-csv mr-2"></i>Exporter au format CSV
        </div>
    {% endif %}
</div>

<div class="d-none justify-content-center" id="spinner">
    <div class="spinner-border sizeLoader" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>

<div class="col-12 mt-5">
    <table id="table_id" class="table table-striped table-bordered w-100">
    </table>
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>let id = 0;</script>
    <script src="{{ asset('js/preparation.js') }}?{{ date().timestamp }}"></script>
{% endblock %}

{% import "form.html.twig" as form %}

<div class="modal fade" id="modalNewReceiptAssociation" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            {% include 'utils/modal/header.html.twig' with {
                title: trans('Traçabilité', 'Association BR', 'Enregistrer une réception')
            } %}

            <div class="modal-body modal-input container-fluid">
                <div class="row">
                    <div class="col-12 form-lu">
                        <label class="wii-field-name mb-1">Unité(s) logistique(s)<span class="required-mark">*</span></label>
                        <div class="d-flex justify-content-between logistic-unit-container"
                             data-multiple-key="logisticUnits"
                             data-multiple-object-index="1">

                        </div>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-outline-primary d-flex align-items-center add-logistic-unit ml-auto">
                            <span class='wii-icon wii-icon-plus'></span>
                        </button>
                    </div>
                    <div class="col-12 mt-3 form-reception-number">
                        <label class="wii-field-name mb-1">Numéro(s) de réception*</label>
                        <div class="d-flex justify-content-between reception-number-container"
                             data-multiple-key="receptionNumbers"
                             data-multiple-object-index="1">

                        </div>
                    </div>
                    <div class="col-12">
                        <button class="btn btn-outline-primary d-flex align-items-center add-reception-number ml-auto">
                            <span class='wii-icon wii-icon-plus'></span>
                        </button>
                    </div>
                    <div class="col-12 mt-3">
                        {{ form.switch('existingLogisticUnits', "Unité(s) logistique(s) existante(s)", true, [
                            {label: 'Oui', value: '1', checked: true},
                            {label: 'Non', value: '0'},
                        ]) }}
                    </div>
                </div>
                {{ form.hidden("limit", 10) }}
            </div>

            {% include 'utils/modal/footer.html.twig' with {
                elements: [
                    {classes: 'btn btn-outline-secondary', dismiss: true, text: trans('Général', null, 'Modale', 'Annuler')},
                    {classes: 'btn btn-success', text: trans('Général', null, 'Modale', 'Enregistrer'), type: "submit"}
                ],
            } %}
        </div>
    </div>
</div>

<template class="logistic-unit-container-template">
    <div class="logistic-unit-container d-flex justify-content-between mt-2"
         data-multiple-key="logisticUnits">
        {{ form.input("logisticUnit", null, true, null, {
            width: "w-75",
            attributes: {
                "data-global-error": "Unité(s) logistique(s)",
            }
        }) }}
        <button class="btn delete-line d-flex align-items-center">
            <i class="wii-icon wii-icon-trash text-primary"></i>
        </button>
    </div>
</template>

<template class="reception-number-container-template">
    <div class="reception-number-container d-flex justify-content-between mt-2"
         data-multiple-key="receptionNumbers">
        {{ form.input("receptionNumber", null, true, null, {
            width: "w-75",
        }) }}
        <button class="btn delete-line d-flex align-items-center">
            <i class="wii-icon wii-icon-trash text-primary"></i>
        </button>
    </div>
</template>
